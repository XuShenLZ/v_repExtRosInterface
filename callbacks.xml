<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<?xml-stylesheet type="text/xsl" href="callbacks.xsl"?>

<plugin name="ROS" author="federico.ferri.it@gmail.com">
    <command name="subscribe">
        <description>Subscribe to a topic.</description>
        <see-also>
            <!--command name="..." /-->
        </see-also>
        <params>
            <param name="topic" type="string">
                <description>topic name, e.g.: '/cmd_vel'</description>
            </param>
            <param name="type" type="string">
                <description>topic type, e.g.: 'geometry_msgs::Twist'</description>
            </param>
            <param name="callback" type="string">
                <description>name of the callback function</description>
            </param>
            <param name="queueSize" type="int" default="-1">
                <description>(optional) queue size. -1 means use the recommended value.</description>
            </param>
        </params>
        <return>
            <param name="subscriber" type="string" default="nil">
                <description>a handle to the ROS subscriber, or nil in case of error</description>
            </param>
        </return>
    </command>
    <command name="advertise">
        <description>Advertise a topic.</description>
        <see-also>
            <!--command name="..." /-->
        </see-also>
        <params>
            <param name="topic" type="string">
                <description>topic name, e.g.: '/cmd_vel'</description>
            </param>
            <param name="type" type="string">
                <description>topic type, e.g.: 'geometry_msgs::Twist'</description>
            </param>
            <param name="latch" type="bool" default="false">
                <description>(optional) latch topic. default: don't latch.</description>
            </param>
            <param name="queueSize" type="int" default="-1">
                <description>(optional) queue size. -1 means use the recommended value.</description>
            </param>
            <param name="connectCallback" type="string" default="nil">
                <description>(optional) name of the conncet callback function</description>
            </param>
            <param name="disconnectCallback" type="string" default="nil">
                <description>(optional) name of the disconnect callback function</description>
            </param>
        </params>
        <return>
            <param name="publisher" type="string" default="nil">
                <description>a handle to the ROS publisher, or nil in case of failure</description>
            </param>
        </return>
    </command>
    <command name="publish">
        <description>Publish a message on the topic associated with this publisher.</description>
        <see-also>
            <!--command name="..." /-->
        </see-also>
        <params>
            <param name="publisher" type="string">
                <description>the publisher handle</description>
            </param>
            <param name="message" type="table">
                <description>the message to publish</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="shutdownPublisher">
        <description>Shutdown the advertisement associated with this publisher.</description>
        <see-also>
            <!--command name="..." /-->
        </see-also>
        <params>
            <param name="publisher" type="string">
                <description>the publisher handle</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="shutdownSubscriber">
        <description>Unsubscribe the callback associated with this subscriber.</description>
        <see-also>
            <!--command name="..." /-->
        </see-also>
        <params>
            <param name="subscriber" type="string">
                <description>the subscriber handle</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <script-function name="subscriberCallback">
        <description>Callback for ROS subscriber.</description>
        <params>
            <param name="topic" type="string">
                <description>the topic name</description>
            </param>
            <param name="type" type="string">
                <description>the topic type</description>
            </param>
            <param name="message" type="table">
                <description>the topic payload (i.e. the message)</description>
            </param>
        </params>
        <return>
        </return>
    </script-function>
</plugin>
